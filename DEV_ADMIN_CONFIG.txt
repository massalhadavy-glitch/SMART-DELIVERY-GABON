==========================================
CONFIGURATION ADMIN - √âQUIPE DE D√âVELOPPEMENT
==========================================

üìã FICHIER DE CONFIGURATION POUR L'√âQUIPE
üîß √Ä UTILISER PENDANT LE D√âVELOPPEMENT

==========================================
COORDONN√âES DE D√âVELOPPEMENT
==========================================

Email: admin@smartdelivery.com
Password: Admin123!
Environment: Development
Role: super_admin

==========================================
CONFIGURATION SUPABASE
==========================================

URL: [VOTRE_URL_SUPABASE]
Anon Key: [VOTRE_ANON_KEY]
Service Role Key: [VOTRE_SERVICE_ROLE_KEY]

Fichier de config: lib/config/supabase_config.dart

==========================================
TABLES DE BASE DE DONN√âES
==========================================

1. auth.users
   - Contient les utilisateurs authentifi√©s
   - ID: UUID (cl√© primaire)
   - Email: admin@smartdelivery.com

2. public.users
   - Profils des utilisateurs
   - ID: UUID (FK vers auth.users)
   - Role: 'admin' | 'user' | 'driver'

3. public.admins
   - Administrateurs
   - ID: UUID (FK vers public.users)
   - Admin_type: 'super_admin' | 'admin' | 'moderator'

==========================================
SCRIPTS DE D√âVELOPPEMENT
==========================================

-- Cr√©er l'admin (√† ex√©cuter une fois)
SELECT public.create_admin('admin@smartdelivery.com', 'super_admin');

-- V√©rifier l'admin
SELECT 
  u.email,
  u.role,
  a.admin_type
FROM public.users u
LEFT JOIN public.admins a ON u.id = a.id
WHERE u.email = 'admin@smartdelivery.com';

-- Supprimer l'admin (si n√©cessaire)
DELETE FROM public.admins WHERE id IN (
  SELECT id FROM auth.users WHERE email = 'admin@smartdelivery.com'
);
UPDATE public.users SET role = 'user' WHERE email = 'admin@smartdelivery.com';

==========================================
TEST DE CONNEXION
==========================================

1. Lancer l'application Flutter
2. Aller sur la page d'onboarding
3. Cliquer sur l'ic√¥ne admin (en bas)
4. Saisir:
   - Email: admin@smartdelivery.com
   - Password: Admin123!
5. V√©rifier la redirection vers l'interface admin

==========================================
D√âPANNAGE COMMUN
==========================================

Probl√®me: "Vous n'√™tes pas autoris√© comme admin"
Solution: V√©rifier que role = 'admin' dans public.users

Probl√®me: "Utilisateur non trouv√©"
Solution: Cr√©er l'utilisateur via Dashboard Supabase

Probl√®me: "Erreur de connexion"
Solution: V√©rifier les credentials Supabase

==========================================
ENVIRONNEMENTS
==========================================

Development:
- Email: admin@smartdelivery.com
- Password: Admin123!

Staging:
- [√Ä configurer]

Production:
- [√Ä configurer avec des credentials s√©curis√©s]

==========================================
S√âCURIT√â EN D√âVELOPPEMENT
==========================================

‚ö†Ô∏è  ATTENTION:
- Ces credentials sont pour le d√©veloppement uniquement
- Ne jamais utiliser en production
- Changer les mots de passe r√©guli√®rement
- Ne pas commiter les vrais credentials dans Git

==========================================
COMMANDES UTILES
==========================================

-- Voir tous les utilisateurs
SELECT * FROM public.users ORDER BY created_at DESC;

-- Voir tous les admins
SELECT 
  u.email,
  a.admin_type,
  u.created_at
FROM public.users u
JOIN public.admins a ON u.id = a.id;

-- Cr√©er un nouvel utilisateur test
INSERT INTO auth.users (id, email, encrypted_password, email_confirmed_at)
VALUES (gen_random_uuid(), 'test@example.com', crypt('password123', gen_salt('bf')), NOW());

==========================================
NOTES DE L'√âQUIPE
==========================================

[Date] - [Nom] - [Note]
[Date] - [Nom] - [Note]
[Date] - [Nom] - [Note]

==========================================





































